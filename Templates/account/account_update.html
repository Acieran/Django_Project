{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <h1>Update User: {{ user_to_change.username }}</h1>
        <form method="post" class="user-update-form">
            {% csrf_token %}
            {% if form.errors %}
                <div class="alert alert-danger">Please correct the errors below.</div>
            {% endif %}

            <div class="mb-3">
                <label for="{{ form.first_name.id_for_label }}" class="form-label">First Name</label>
                {{ form.first_name }}
                <div class="error-message">{% for error in form.first_name.errors %}{{ error }}{% endfor %}</div>
            </div>

            <div class="mb-3">
                <label for="{{ form.last_name.id_for_label }}" class="form-label">Last Name</label>
                {{ form.last_name }}
                <div class="error-message">{% for error in form.last_name.errors %}{{ error }}{% endfor %}</div>
            </div>

            <div class="mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                {{ form.email }}
                <div class="error-message">{% for error in form.email.errors %}{{ error }}{% endfor %}</div>
            </div>

            {% if user.is_superuser%}
                <div class="mb-3">
                    <label for="{{ form.is_staff.id_for_label }}" class="form-label">Is Staff</label>
                    {{ form.is_staff }}
                    <div class="error-message">{% for error in form.is_staff.errors %}{{ error }}{% endfor %}</div>
                </div>
            {% endif %}

            <button type="submit" class="btn btn-primary">Update User</button>
            <a href="{% url 'account:get_users' %}" class="btn btn-secondary" role="button">Cancel</a>
        </form>
    </div>
{% endblock %}